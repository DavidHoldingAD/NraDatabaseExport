# NRA Database Export

### Въведение

Този проект цели да изпълни изискванията на [Наредба Н-18](https://lex.bg/laws/ldoc/2135540645) на Министъра на финансите на Р България.

Наредбата изисква всеки разработчик на софтуер управляващ продажби заплащани в брой да предостави изходния код на инструмент за извличане
на съответните данни от базата данни.

Точният текст на чл.52в, ал.2, т.3 гласи:

> 3. (доп. - ДВ, бр. 26 от 2019 г., в сила от 29.03.2019 г.) за софтуери, които се инсталират в среда на клиента, се представят: пълно
> описание на обектите в базата данни (БД), свързани с управлението на продажбите, вкл. таблици и предназначението им, връзки между тях,
> описание на полетата в таблиците, както и изпълним файл и source-кодът, от който е генериран изпълнимият файл, за достъп и извличане на
> данни от БД в структуриран четим вид с възможност за избор - от всички или от част от таблиците, с които работи софтуерът, когато
> информацията, съдържаща се в експортираните от изпълнимия файл таблици, представлява лични данни по смисъла на Регламент (ЕС) 2016/679 на
> Европейския парламент и на Съвета от 27 април 2016 (ОВ, L119 от 4 май 2016 г.) или здравна информация по смисъла на чл. 27 от Закона за
> здравето, при експорта тези данни не се извличат;

### Системни изисквания

За коректна работа с приложението, следните системни изисквания трябва да бъдат изпълнени:

- .NET Core 3.0

### Поддържани бази данни

- SQLite
- MySQL/MariaDB
- Microsoft SQL Server
- Microsoft Access
- Firebird Server
- ODBC

### Поддържани файлови формати

- CSV (Comma-Separated Values) - текстов файл, в който стойностите са разделени със знак "," (запетая)
- CSV (Semicolon-Separated Values) - текстов файл, в който стойностите са разделени със знак ";" (точка и запетая)

### Ръководство за работа

Инструментът "NRA Database Export" експортира избрани от потребителя данни от посочена от него база данни. Това става, както следва:

1. В поле "Тип база данни" се посочва типа на базата данни (напр. "Microsoft SQL Server").

   Забележка: За списък с поддържаните типове бази данни, вж. глава "Поддържани бази данни".

2. В зависимост от посочения тип база данни:

   - Ако е избрана база данни от файлов тип, то:

     1. В поле "Файл" се посочва съответният файл.

   - Ако е избран друг тип база данни, то:

     1. В поле "База данни" се избира съответната база данни;
     2. В поле "Потребител" се попълва потребителското име за вход;
     3. В поле "Парола" се посочва паролата за вход;
     4. Натиска се бутон "Свързване";
     5. В поле "База данни" се посочва базата данни, от която трябва да бъдат експортирани данните.

3. В поле "Таблици" се посочват таблиците от избраната база данни, които трябва да се експортират.

   Бележка: Ако трябва да бъдат експортирани всички таблици, се маркира полето "Избор на всички".

4. В поле "Формат за експорт" се посочва форматът, в който да бъдат експортираните данни. Поддържат се следните формати:

   Забележка: За списък с поддържаните файлови формати, вж. глава "Поддържани файлови формати".

5. В поле "Папка за експорт" се посочва папката, в която да бъдат записани файловете с експортираните данни.

6. Натиска се бутон "ЕКСПОРТ".

### Сътрудничество

Този проект е разклонение на [NapDatabaseExport](https://github.com/flipm0de/NapDatabaseExport).
